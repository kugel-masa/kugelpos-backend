{
  "openapi": "3.1.0",
  "info": {
    "title": "FastAPI",
    "version": "0.1.0"
  },
  "paths": {
    "/api/v1/tenants/{tenant_id}/stores/{store_code}/terminals/{terminal_no}/journals": {
      "post": {
        "summary": "Receive Journals",
        "description": "Create a new journal entry.\n\nThis endpoint allows terminals to submit journal entries for storage and later retrieval.\nJournal entries represent receipts, cash operations, and other terminal activities.\n\nAuthentication is required via token or API key. The tenant ID in the path must match\nthe one in the security credentials.\n\nArgs:\n    tenant_id: The tenant identifier from the path\n    tenant_id_with_security: The tenant ID from security credentials\n    store_code: The store code from the path\n    terminal_no: The terminal number from the path\n    journal_data: The journal data to store\n    journal_service: The injected journal service\n\nReturns:\n    ApiResponse: Standard API response with the created journal data",
        "operationId": "receive_journals_api_v1_tenants__tenant_id__stores__store_code__terminals__terminal_no__journals_post",
        "security": [
          {
            "APIKeyHeader": []
          },
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tenant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tenant Id"
            }
          },
          {
            "name": "store_code",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Store Code"
            }
          },
          {
            "name": "terminal_no",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Terminal No"
            }
          },
          {
            "name": "terminal_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "terminal_id should be provided by query parameter optional",
              "title": "Terminal Id"
            },
            "description": "terminal_id should be provided by query parameter optional"
          },
          {
            "name": "is_terminal_service",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "default": false,
              "title": "Is Terminal Service"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/JournalSchema"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "code": 400,
                  "message": "Bad request",
                  "data": "400:Bad request"
                },
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "code": 401,
                  "message": "Unauthorized",
                  "data": "401:Unauthorized"
                },
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "code": 403,
                  "message": "Forbidden",
                  "data": "403:Forbidden"
                },
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable entity",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "code": 422,
                  "message": "Unprocessable entity",
                  "data": "[{'type': 'missing', 'loc': ('body', 'pin'), 'msg': 'Field required', 'input': {'id': '1234', 'name': 'someone'}}]"
                },
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "code": 500,
                  "message": "Internal server error",
                  "data": "500:Internal server error"
                },
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/tenants/{tenant_id}/stores/{store_code}/journals": {
      "get": {
        "summary": "Get Journals",
        "description": "Retrieve journal entries with various filtering options.\n\nThis endpoint provides a flexible search interface for journal entries, allowing\nfiltering by terminal, transaction type, date ranges, receipt numbers, and keywords.\nResults can be paginated and sorted.\n\nAuthentication is required via token or API key. The tenant ID in the path must match\nthe one in the security credentials.\n\nArgs:\n    tenant_id: The tenant identifier from the path\n    tenant_id_with_security: The tenant ID from security credentials\n    store_code: The store code to filter journals by\n    terminals: Optional list of terminal numbers to filter by\n    transaction_types: Optional list of transaction types to filter by\n    business_date_from: Optional start of business date range (YYYYMMDD)\n    business_date_to: Optional end of business date range (YYYYMMDD)\n    generate_date_time_from: Optional start of journal creation time range (YYYYMMDDTHHMMSS)\n    generate_date_time_to: Optional end of journal creation time range (YYYYMMDDTHHMMSS)\n    receipt_no_from: Optional start of receipt number range\n    receipt_no_to: Optional end of receipt number range\n    keywords: Optional list of keywords to search for in journal text\n    limit: Maximum number of results to return (default: 100)\n    page: Page number for pagination (default: 1)\n    sort: Sorting criteria (default: terminal_no, business_date, receipt_no)\n    journal_service: The injected journal service\n\nReturns:\n    ApiResponse[list[JournalSchema]]: Standard API response with matching journal entries",
        "operationId": "get_journals_api_v1_tenants__tenant_id__stores__store_code__journals_get",
        "security": [
          {
            "APIKeyHeader": []
          },
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tenant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tenant Id"
            }
          },
          {
            "name": "store_code",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Store Code"
            }
          },
          {
            "name": "terminals",
            "in": "query",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "integer"
              },
              "title": "Terminals"
            }
          },
          {
            "name": "transaction_types",
            "in": "query",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "integer"
              },
              "description": "Transaction type NormalSales->101, NormalSalesCancel->-101, ReturnSales->102, VoidSales->201, VoidReturn->202, Open->301, Close->302, Cash-In->401, Cash-Out->402",
              "title": "Transaction Types"
            },
            "description": "Transaction type NormalSales->101, NormalSalesCancel->-101, ReturnSales->102, VoidSales->201, VoidReturn->202, Open->301, Close->302, Cash-In->401, Cash-Out->402"
          },
          {
            "name": "business_date_from",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "YYYYMMDD",
              "title": "Business Date From"
            },
            "description": "YYYYMMDD"
          },
          {
            "name": "business_date_to",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "YYYYMMDD",
              "title": "Business Date To"
            },
            "description": "YYYYMMDD"
          },
          {
            "name": "generate_date_time_from",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "YYYYMMDDTHHMMSS",
              "title": "Generate Date Time From"
            },
            "description": "YYYYMMDDTHHMMSS"
          },
          {
            "name": "generate_date_time_to",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "YYYYMMDDTHHMMSS",
              "title": "Generate Date Time To"
            },
            "description": "YYYYMMDDTHHMMSS"
          },
          {
            "name": "receipt_no_from",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "title": "Receipt No From"
            }
          },
          {
            "name": "receipt_no_to",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "title": "Receipt No To"
            }
          },
          {
            "name": "keywords",
            "in": "query",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Search keywords",
              "title": "Keywords"
            },
            "description": "Search keywords"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "terminal_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "terminal_id should be provided by query parameter optional",
              "title": "Terminal Id"
            },
            "description": "terminal_id should be provided by query parameter optional"
          },
          {
            "name": "is_terminal_service",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "default": false,
              "title": "Is Terminal Service"
            }
          },
          {
            "name": "sort",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "?sort=field1:1,field2:-1",
              "title": "Sort"
            },
            "description": "?sort=field1:1,field2:-1"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse_list_JournalSchema__"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "code": 400,
                  "message": "Bad request",
                  "data": "400:Bad request"
                },
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "code": 401,
                  "message": "Unauthorized",
                  "data": "401:Unauthorized"
                },
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "code": 403,
                  "message": "Forbidden",
                  "data": "403:Forbidden"
                },
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable entity",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "code": 422,
                  "message": "Unprocessable entity",
                  "data": "[{'type': 'missing', 'loc': ('body', 'pin'), 'msg': 'Field required', 'input': {'id': '1234', 'name': 'someone'}}]"
                },
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "code": 500,
                  "message": "Internal server error",
                  "data": "500:Internal server error"
                },
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/tenants": {
      "post": {
        "summary": "Create Tenant",
        "description": "Setup the database for the tenant. This will create the required collections and indexes.",
        "operationId": "create_tenant_api_v1_tenants_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "is_terminal_service",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "default": false,
              "title": "Is Terminal Service"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TenantCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/tranlog": {
      "post": {
        "summary": "Handle Tranlog",
        "description": "Handle transaction logs received via Dapr pub/sub.\n\nThis endpoint is called by Dapr when a transaction log message is published\nto the 'topic-tranlog' topic. It processes the transaction data and generates\nthe corresponding journal entries.\n\nThe journal service uses this data to create human-readable receipt text\nand maintains a searchable record of all transactions.\n\nArgs:\n    request: The FastAPI request containing the pub/sub message\n    log_service: The LogService instance from the dependency\n\nReturns:\n    dict: A status response with HTTP status code",
        "operationId": "handle_tranlog_api_v1_tranlog_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/cashlog": {
      "post": {
        "summary": "Handle Cashlog",
        "description": "Handle cash in/out logs received via Dapr pub/sub.\n\nThis endpoint is called by Dapr when a cash log message is published\nto the 'topic-cashlog' topic. It processes the cash movement data and\ngenerates the corresponding journal entries.\n\nCash logs represent non-sales cash movements like float, paid-ins, and payouts.\n\nArgs:\n    request: The FastAPI request containing the pub/sub message\n    log_service: The LogService instance from the dependency\n\nReturns:\n    dict: A status response with HTTP status code",
        "operationId": "handle_cashlog_api_v1_cashlog_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/opencloselog": {
      "post": {
        "summary": "Handle Opencloselog",
        "description": "Handle terminal open/close logs received via Dapr pub/sub.\n\nThis endpoint is called by Dapr when an open/close log message is published\nto the 'topic-opencloselog' topic. It processes the terminal session data\nand generates the corresponding journal entries.\n\nThese logs mark the beginning and end of a terminal's business session\nand include details like starting cash, ending cash, and reconciliation.\n\nArgs:\n    request: The FastAPI request containing the pub/sub message\n    log_service: The LogService instance from the dependency\n\nReturns:\n    dict: A status response with HTTP status code",
        "operationId": "handle_opencloselog_api_v1_opencloselog_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/tenants/{tenant_id}/stores/{store_code}/terminals/{terminal_no}/transactions": {
      "post": {
        "summary": "Receive Transactions",
        "description": "Direct API endpoint for receiving transaction data.\n\nThis endpoint can be used as an alternative to the Dapr pub/sub mechanism\nwhen direct REST API calls are preferred. It requires authentication via\ntoken or API key.\n\nThe function validates the tenant ID from the security credentials,\nprocesses the transaction data, and generates the corresponding journal entries.\n\nArgs:\n    tran_data: Transaction data in JSON format\n    tenant_id: The tenant identifier from the path\n    tenant_id_with_security: The tenant ID extracted from security credentials\n    store_code: The store code from the path\n    terminal_no: The terminal number from the path\n    tran_service: The LogService instance from the dependency\n\nReturns:\n    ApiResponse[TranResponse]: A standard API response with transaction confirmation",
        "operationId": "receive_transactions_api_v1_tenants__tenant_id__stores__store_code__terminals__terminal_no__transactions_post",
        "security": [
          {
            "APIKeyHeader": []
          },
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tenant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tenant Id"
            }
          },
          {
            "name": "store_code",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Store Code"
            }
          },
          {
            "name": "terminal_no",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Terminal No"
            }
          },
          {
            "name": "terminal_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "terminal_id should be provided by query parameter optional",
              "title": "Terminal Id"
            },
            "description": "terminal_id should be provided by query parameter optional"
          },
          {
            "name": "is_terminal_service",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "default": false,
              "title": "Is Terminal Service"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true,
                "title": "Tran Data"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse_TranResponse_"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "code": 400,
                  "message": "Bad request",
                  "data": "400:Bad request"
                },
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "code": 401,
                  "message": "Unauthorized",
                  "data": "401:Unauthorized"
                },
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "code": 403,
                  "message": "Forbidden",
                  "data": "403:Forbidden"
                },
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable entity",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "code": 422,
                  "message": "Unprocessable entity",
                  "data": "[{'type': 'missing', 'loc': ('body', 'pin'), 'msg': 'Field required', 'input': {'id': '1234', 'name': 'someone'}}]"
                },
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "code": 500,
                  "message": "Internal server error",
                  "data": "500:Internal server error"
                },
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/dapr/subscribe": {
      "get": {
        "summary": "Subscribe Topics",
        "description": "Define Dapr pub/sub subscriptions for this service.\n\nThis endpoint is called by Dapr during startup to determine which pub/sub topics\nthis service should subscribe to. When a message is published to one of these topics,\nDapr will deliver it to the specified route.\n\nThe journal service subscribes to transaction logs, cash logs, and open/close logs\nto generate and store journal entries for each operation.\n\nReturns:\n    list: List of subscription configurations with pubsubname, topic, and route",
        "operationId": "subscribe_topics_dapr_subscribe_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "summary": "Root",
        "description": "Root endpoint that returns a welcome message.\nUseful for health checks and API verification.\n\nReturns:\n    dict: A welcome message with API version information",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "summary": "Health Check",
        "description": "Health check endpoint for monitoring service health.\n\nReturns:\n    HealthCheckResponse: Service health status including component checks",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthCheckResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ApiResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "code": {
            "type": "integer",
            "title": "Code",
            "default": 200
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          },
          "userError": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/UserError"
              },
              {
                "type": "null"
              }
            ]
          },
          "data": {
            "anyOf": [
              {},
              {
                "type": "null"
              }
            ],
            "title": "Data"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Metadata"
              },
              {
                "type": "null"
              }
            ]
          },
          "operation": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Operation"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message",
          "data"
        ],
        "title": "ApiResponse",
        "description": "Standardized API response model used by all endpoints.\n\nProvides a consistent structure for all API responses, including status information,\nerror details when applicable, and the actual response data. The model is generic\nand can accommodate any data type for the response payload.\n\nAttributes:\n    success: Boolean indicating if the operation was successful\n    code: HTTP status code for the response\n    message: System message typically used for logging or debugging\n    user_error: User-friendly error information when an error occurs\n    data: The actual response payload (generic type)\n    metadata: Additional metadata like pagination info for list responses\n    operation: Name of the operation that was performed (for tracking)"
      },
      "ApiResponse_TranResponse_": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "code": {
            "type": "integer",
            "title": "Code",
            "default": 200
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          },
          "userError": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/UserError"
              },
              {
                "type": "null"
              }
            ]
          },
          "data": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/TranResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Metadata"
              },
              {
                "type": "null"
              }
            ]
          },
          "operation": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Operation"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message",
          "data"
        ],
        "title": "ApiResponse[TranResponse]"
      },
      "ApiResponse_list_JournalSchema__": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "code": {
            "type": "integer",
            "title": "Code",
            "default": 200
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          },
          "userError": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/UserError"
              },
              {
                "type": "null"
              }
            ]
          },
          "data": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/JournalSchema"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Data"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Metadata"
              },
              {
                "type": "null"
              }
            ]
          },
          "operation": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Operation"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message",
          "data"
        ],
        "title": "ApiResponse[list[JournalSchema]]"
      },
      "ComponentHealth": {
        "properties": {
          "status": {
            "$ref": "#/components/schemas/HealthStatus",
            "description": "Health status of the component"
          },
          "response_time_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Response Time Ms",
            "description": "Response time in milliseconds"
          },
          "details": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details",
            "description": "Additional details about the component"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message if unhealthy"
          },
          "component": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Component",
            "description": "Component name (for Dapr components)"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "ComponentHealth",
        "description": "Individual component health status."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HealthCheckResponse": {
        "properties": {
          "status": {
            "$ref": "#/components/schemas/HealthStatus",
            "description": "Overall health status"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "Health check timestamp"
          },
          "service": {
            "type": "string",
            "title": "Service",
            "description": "Service name"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "Service version"
          },
          "checks": {
            "additionalProperties": {
              "$ref": "#/components/schemas/ComponentHealth"
            },
            "type": "object",
            "title": "Checks",
            "description": "Individual component health checks"
          }
        },
        "type": "object",
        "required": [
          "status",
          "service",
          "version"
        ],
        "title": "HealthCheckResponse",
        "description": "Health check response model."
      },
      "HealthStatus": {
        "type": "string",
        "enum": [
          "healthy",
          "unhealthy"
        ],
        "title": "HealthStatus",
        "description": "Health status enumeration."
      },
      "JournalSchema": {
        "properties": {
          "tenantId": {
            "type": "string",
            "title": "Tenantid",
            "description": "tenant id"
          },
          "storeCode": {
            "type": "string",
            "title": "Storecode",
            "description": "store code"
          },
          "terminalNo": {
            "type": "integer",
            "title": "Terminalno",
            "description": "terminal no"
          },
          "journalSeqNo": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Journalseqno",
            "description": "delete in future",
            "default": -1
          },
          "transactionNo": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Transactionno",
            "description": "transaction_no"
          },
          "transactionType": {
            "type": "integer",
            "title": "Transactiontype",
            "description": "transaction type"
          },
          "businessDate": {
            "type": "string",
            "title": "Businessdate",
            "description": "business date"
          },
          "openCounter": {
            "type": "integer",
            "title": "Opencounter",
            "description": "open counter"
          },
          "businessCounter": {
            "type": "integer",
            "title": "Businesscounter",
            "description": "business counter"
          },
          "generateDateTime": {
            "type": "string",
            "title": "Generatedatetime",
            "description": "generate date time"
          },
          "receiptNo": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Receiptno",
            "description": "receipt no"
          },
          "amount": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Amount",
            "description": "total_amount_with_tax",
            "default": 0.0
          },
          "quantity": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Quantity",
            "description": "total_quantity",
            "default": 0
          },
          "staffId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Staffid",
            "description": "staff id"
          },
          "userId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Userid",
            "description": "user id"
          },
          "content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content",
            "description": "delete in future",
            "default": "please refer to journal_text."
          },
          "journalText": {
            "type": "string",
            "title": "Journaltext",
            "description": "journal text"
          },
          "receiptText": {
            "type": "string",
            "title": "Receipttext",
            "description": "receipt text"
          },
          "receipts": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ReceiptDocument"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Receipts",
            "description": "Multiple receipt documents (customer, merchant, journal copies)",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "tenantId",
          "storeCode",
          "terminalNo",
          "transactionType",
          "businessDate",
          "openCounter",
          "businessCounter",
          "generateDateTime",
          "journalText",
          "receiptText"
        ],
        "title": "JournalSchema"
      },
      "Metadata": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "limit": {
            "type": "integer",
            "title": "Limit"
          },
          "sort": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sort"
          },
          "filter": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filter"
          }
        },
        "type": "object",
        "required": [
          "total",
          "page",
          "limit",
          "sort",
          "filter"
        ],
        "title": "Metadata",
        "description": "Metadata Model\n\nRepresents metadata for paginated API responses.\nIncludes total count, current page, items per page, sort criteria,\nand filter conditions."
      },
      "ReceiptDocument": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "format": {
            "type": "string",
            "title": "Format",
            "default": "text"
          },
          "print_required": {
            "type": "boolean",
            "title": "Print Required",
            "default": true
          },
          "print_copies": {
            "type": "integer",
            "title": "Print Copies",
            "default": 1
          },
          "printer_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Printer Type"
          }
        },
        "type": "object",
        "required": [
          "type",
          "content"
        ],
        "title": "ReceiptDocument",
        "description": "Receipt document model for storing individual receipt information.\n\nThis class represents a single receipt that can be printed as part of a transaction.\nMultiple receipts can be associated with a single transaction for different purposes\n(customer copy, merchant copy, journal, etc.)."
      },
      "TenantCreateRequest": {
        "properties": {
          "tenantId": {
            "type": "string",
            "title": "Tenantid"
          }
        },
        "type": "object",
        "required": [
          "tenantId"
        ],
        "title": "TenantCreateRequest"
      },
      "TranResponse": {
        "properties": {
          "tenantId": {
            "type": "string",
            "title": "Tenantid"
          },
          "storeCode": {
            "type": "string",
            "title": "Storecode"
          },
          "terminalNo": {
            "type": "integer",
            "title": "Terminalno"
          },
          "transactionNo": {
            "type": "integer",
            "title": "Transactionno"
          }
        },
        "type": "object",
        "required": [
          "tenantId",
          "storeCode",
          "terminalNo",
          "transactionNo"
        ],
        "title": "TranResponse"
      },
      "UserError": {
        "properties": {
          "code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Code"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "title": "UserError",
        "description": "User-friendly error information model.\n\nContains structured error information that is suitable for display to end users,\nsuch as error codes and localized error messages.\n\nAttributes:\n    code: Application-specific error code\n    message: User-friendly error message suitable for display"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    },
    "securitySchemes": {
      "APIKeyHeader": {
        "type": "apiKey",
        "in": "header",
        "name": "X-API-KEY"
      },
      "OAuth2PasswordBearer": {
        "type": "oauth2",
        "flows": {
          "password": {
            "scopes": {},
            "tokenUrl": "http://localhost:3500/v1.0/invoke/account/method/api/v1/accounts/token"
          }
        }
      }
    }
  }
}
